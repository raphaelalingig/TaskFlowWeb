{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import DueDateDropdown from\"../DueDateDropdown\";import PriorityDropdown from\"../PriorityDropdown\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const swal=require(\"sweetalert2\");const EditProject=_ref=>{let{closeModal,project,updateProject}=_ref;const[projectName,setProjectName]=useState(project.project_name);const[description,setDescription]=useState(project.description);const[selectedStartDate,setSelectedStartDate]=useState(project.start_date);const[selectedEndDate,setSelectedEndDate]=useState(project.due_date);const handleSubmit=async e=>{e.preventDefault();const updatedProject={project_name:projectName,description,start_date:selectedStartDate,due_date:selectedEndDate};try{const response=await axios.put(\"http://127.0.0.1:8080/api/projects/\".concat(project.id,\"/\"),updatedProject);updateProject(response.data);swal.fire({title:\"Project updated successfully\",icon:\"success\",toast:true,timer:3000,position:\"top-right\",timerProgressBar:true,showConfirmButton:false});closeModal(false);}catch(error){console.error(\"Error:\",error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center backdrop-filter backdrop-blur-none bg-gray-900 bg-opacity-30\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative p-4 w-full max-w-2xl h-full md:h-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative p-4 bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center pb-4 mb-4 rounded-t border-b sm:mb-5 dark:border-gray-600\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"Edit Project\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white\",onClick:()=>closeModal(false),children:[/*#__PURE__*/_jsx(\"svg\",{\"aria-hidden\":\"true\",className:\"w-5 h-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",clipRule:\"evenodd\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Close modal\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid gap-4 mb-4 sm:grid-cols-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Project Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"name\",className:\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\",placeholder:\"Type project name\",value:projectName,required:true,onChange:e=>setProjectName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Due Date\"}),/*#__PURE__*/_jsx(DueDateDropdown,{setSelectedStartDate:setSelectedStartDate,setSelectedEndDate:setSelectedEndDate,initialStartDate:selectedStartDate,initialEndDate:selectedEndDate})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",rows:\"4\",className:\"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\",placeholder:\"Write task description here\",value:description,onChange:e=>setDescription(e.target.value)})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800\",children:\"Update Project\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>closeModal(false),className:\"focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900\",children:\"Cancel\"})]})]})})});};export default EditProject;","map":{"version":3,"names":["React","useEffect","useState","DueDateDropdown","PriorityDropdown","axios","jsx","_jsx","jsxs","_jsxs","swal","require","EditProject","_ref","closeModal","project","updateProject","projectName","setProjectName","project_name","description","setDescription","selectedStartDate","setSelectedStartDate","start_date","selectedEndDate","setSelectedEndDate","due_date","handleSubmit","e","preventDefault","updatedProject","response","put","concat","id","data","fire","title","icon","toast","timer","position","timerProgressBar","showConfirmButton","error","console","className","children","type","onClick","fill","viewBox","xmlns","fillRule","d","clipRule","onSubmit","htmlFor","name","placeholder","value","required","onChange","target","initialStartDate","initialEndDate","rows"],"sources":["C:/Users/User/Documents/Work/TaskFlowWeb/src/components/MiniComponents.js/Modals/EditProject.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport DueDateDropdown from \"../DueDateDropdown\";\r\nimport PriorityDropdown from \"../PriorityDropdown\";\r\nimport axios from \"axios\";\r\nconst swal = require(\"sweetalert2\");\r\n\r\nconst EditProject = ({ closeModal, project, updateProject }) => {\r\n  const [projectName, setProjectName] = useState(project.project_name);\r\n  const [description, setDescription] = useState(project.description);\r\n  const [selectedStartDate, setSelectedStartDate] = useState(\r\n    project.start_date\r\n  );\r\n  const [selectedEndDate, setSelectedEndDate] = useState(project.due_date);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const updatedProject = {\r\n      project_name: projectName,\r\n      description,\r\n      start_date: selectedStartDate,\r\n      due_date: selectedEndDate,\r\n    };\r\n\r\n    try {\r\n      const response = await axios.put(\r\n        `http://127.0.0.1:8080/api/projects/${project.id}/`,\r\n        updatedProject\r\n      );\r\n      updateProject(response.data);\r\n      swal.fire({\r\n        title: \"Project updated successfully\",\r\n        icon: \"success\",\r\n        toast: true,\r\n        timer: 3000,\r\n        position: \"top-right\",\r\n        timerProgressBar: true,\r\n        showConfirmButton: false,\r\n      });\r\n      closeModal(false);\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center backdrop-filter backdrop-blur-none bg-gray-900 bg-opacity-30\">\r\n      <div className=\"relative p-4 w-full max-w-2xl h-full md:h-auto\">\r\n        <div className=\"relative p-4 bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5\">\r\n          <div className=\"flex justify-between items-center pb-4 mb-4 rounded-t border-b sm:mb-5 dark:border-gray-600\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n              Edit Project\r\n            </h3>\r\n            <button\r\n              type=\"button\"\r\n              className=\"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white\"\r\n              onClick={() => closeModal(false)}\r\n            >\r\n              <svg\r\n                aria-hidden=\"true\"\r\n                className=\"w-5 h-5\"\r\n                fill=\"currentColor\"\r\n                viewBox=\"0 0 20 20\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\r\n                  clipRule=\"evenodd\"\r\n                ></path>\r\n              </svg>\r\n              <span className=\"sr-only\">Close modal</span>\r\n            </button>\r\n          </div>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"grid gap-4 mb-4 sm:grid-cols-2\">\r\n              <div>\r\n                <label\r\n                  htmlFor=\"name\"\r\n                  className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"\r\n                >\r\n                  Project Name\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  id=\"name\"\r\n                  className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\r\n                  placeholder=\"Type project name\"\r\n                  value={projectName}\r\n                  required\r\n                  onChange={(e) => setProjectName(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">\r\n                  Due Date\r\n                </label>\r\n                <DueDateDropdown\r\n                  setSelectedStartDate={setSelectedStartDate}\r\n                  setSelectedEndDate={setSelectedEndDate}\r\n                  initialStartDate={selectedStartDate}\r\n                  initialEndDate={selectedEndDate}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"sm:col-span-2\">\r\n                <label className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">\r\n                  Description\r\n                </label>\r\n                <textarea\r\n                  id=\"description\"\r\n                  rows=\"4\"\r\n                  className=\"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500\"\r\n                  placeholder=\"Write task description here\"\r\n                  value={description}\r\n                  onChange={(e) => setDescription(e.target.value)}\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800\"\r\n            >\r\n              Update Project\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => closeModal(false)}\r\n              className=\"focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProject;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}